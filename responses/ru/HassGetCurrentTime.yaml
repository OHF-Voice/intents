language: ru
responses:
  intents:
    HassGetCurrentTime:
      default: >
        {% set hours = {
          '00': 'ноль',
          '01': 'один',
          '02': 'два',
          '03': 'три',
          '04': 'четыре',
          '05': 'пять',
          '06': 'шесть',
          '07': 'семь',
          '08': 'восемь',
          '09': 'девять',
          '10': 'десять',
          '11': 'одиннадцать',
          '12': 'двенадцать',
          '13': 'тринадцать',
          '14': 'четырнадцать',
          '15': 'пятнадцать',
          '16': 'шестнадцать',
          '17': 'семнадцать',
          '18': 'восемнадцать',
          '19': 'девятнадцать',
          '20': 'двадцать',
          '21': 'двадцать один',
          '22': 'двадцать два',
          '23': 'двадцать три',
          '24': 'двадцать четыре'
        } %}
        
        {% set minutes = {
          '00': 'ноль',
          '01': 'одна',
          '02': 'две',
          '03': 'три',
          '04': 'четыре',
          '05': 'пять',
          '06': 'шесть',
          '07': 'семь',
          '08': 'восемь',
          '09': 'девять',
          '10': 'десять',
          '11': 'одиннадцать',
          '12': 'двенадцать',
          '13': 'тринадцать',
          '14': 'четырнадцать',
          '15': 'пятнадцать',
          '16': 'шестнадцать',
          '17': 'семнадцать',
          '18': 'восемнадцать',
          '19': 'девятнадцать',
          '20': 'двадцать',
          '21': 'двадцать одна',
          '22': 'двадцать две',
          '23': 'двадцать три',
          '24': 'двадцать четыре',
          '25': 'двадцать пять',
          '26': 'двадцать шесть',
          '27': 'двадцать семь',
          '28': 'двадцать восемь',
          '29': 'двадцать девять',
          '30': 'тридцать',
          '31': 'тридцать одна',
          '32': 'тридцать две',
          '33': 'тридцать три',
          '34': 'тридцать четыре',
          '35': 'тридцать пять',
          '36': 'тридцать шесть',
          '37': 'тридцать семь',
          '38': 'тридцать восемь',
          '39': 'тридцать девять',
          '40': 'сорок',
          '41': 'сорок одна',
          '42': 'сорок две',
          '43': 'сорок три',
          '44': 'сорок четыре',
          '45': 'сорок пять',
          '46': 'сорок шесть',
          '47': 'сорок семь',
          '48': 'сорок восемь',
          '49': 'сорок девять',
          '50': 'пятьдесят',
          '51': 'пятьдесят одна',
          '52': 'пятьдесят две',
          '53': 'пятьдесят три',
          '54': 'пятьдесят четыре',
          '55': 'пятьдесят пять',
          '56': 'пятьдесят шесть',
          '57': 'пятьдесят семь',
          '58': 'пятьдесят восемь',
          '59': 'пятьдесят девять'
        } %}
        
        {% set hour_num = slots.time.hour | int %}
        {% set minute_num = slots.time.minute | int %}
        {% set hour_str = '%02d' % slots.time.hour %}
        {% set minute_str = '%02d' % slots.time.minute %}
        
        {% if hour_num == 0 and minute_num == 0 %}
          Сейчас полночь
        {% elif hour_num == 12 and minute_num == 0 %}
          Сейчас полдень
        {% else %}
          Сейчас {{ hours[hour_str] }}
          {% if hour_num % 100 in [11, 12, 13, 14] %}часов
          {% elif hour_num % 10 == 1 %}час
          {% elif 2 <= hour_num % 10 <= 4 %}часа
          {% else %}часов{% endif %}
          
          {% if minute_num > 0 %}
            {{ minutes[minute_str] }}
            {% if minute_num % 100 in [11, 12, 13, 14] %}минут
            {% elif minute_num % 10 == 1 %}минута
            {% elif 2 <= minute_num % 10 <= 4 %}минуты
            {% else %}минут{% endif %}
          {% endif %}
        {% endif %}
